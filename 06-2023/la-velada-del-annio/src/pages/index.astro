<html lang="es">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>La Velada del A침o - Un proyecto de Ibai</title>
  </head>
  <body class="relative">
    <header class="relative">
      <div
        class="absolute left-1/2 -translate-x-1/2 flex flex-col gap-1 justify-center items-center top-8 z-10"
      >
        <img
          class="w-32 lg:w-64 h-auto"
          src="/logo.webp"
          alt="Logo de la Velada del a침o, tercera edici칩n"
        />
        <h1 class="font-boxing text-6xl text-center text-white font-bold">
          <span
            class="bg-clip-text text-transparent bg-gradient-to-b from-gray-200 via-gray-400 to-gray-600 inline-block leading-relaxed"
            >la velada del a침o</span
          >
          <span class="text-yellow-300">III</span>
        </h1>
      </div>
    </header>

    <main>
      <section
        id="boxers"
        class={`flex justify-between relative [&>div>img]:absolute [&>div>img]:bottom-0 [&>div>img]:w-auto lg:h-screen h-[50vh] pt-24 border-b  [&>div>img]:animate-once [&>div>img]:animate-duration-1000 [&>div>img]:animate-ease-in-out border-white/10 overflow-hidden`}
      >
        <div
          class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-[#131313] via-zinc-900 to-zinc-950"
        >
          <div
            class="absolute inset-0 flex gap-x-3 left-1/2 -translate-x-1/2 justify-center opacity-30 blur-sm"
          >
            <div
              class="w-2 blur-sm h-full bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))]from-purple-100 via-purple-300 to-purple-800"
            >
            </div>
            <div
              class="w-2 blur-sm h-full bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))]from-purple-100 via-purple-300 to-purple-800"
            >
            </div>
            <div
              class="w-2 blur-sm h-full bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))]from-purple-100 via-purple-300 to-purple-800"
            >
            </div>
          </div>
        </div>

        <div class="relative w-full">
          <img
            class="left-0 h-full z-50 animate-delay-300 animate-fade-right"
            src="/boxers/coscu.webp"
            alt="Coscu"
          />
          <img
            class="left-[8%] h-[80%] z-40 animate-delay-500 animate-fade-right"
            src="/boxers/mayichi.webp"
            alt="Mayichi"
          />
          <img
            class="left-[20%] h-[75%] z-30 animate-delay-700 animate-fade-right"
            src="/boxers/viruzz.webp"
            alt="Viruzz"
          />
          <img
            class="left-[30%] h-[70%] z-20 animate-delay-[900ms] animate-fade-right"
            src="/boxers/fernanfloo.webp"
            alt="Fernanfloo"
          />
          <img
            class="left-[43%] h-[65%] z-10 animate-delay-[1100ms] animate-fade-right"
            src="/boxers/la-rivers.webp"
            alt="La Rivers"
          />
          <img
            class="left-[48%] h-[60%] z-0 animate-delay-[1300ms] animate-fade-right"
            src="/boxers/papigavi.webp"
            alt="Papigavi"
          />
        </div>

        <div class="relative w-full">
          <img
            class="right-0 h-full z-50 animate-delay-300 animate-fade-left"
            src="../../public/boxers/german.webp"
            alt="German"
          />
          <img
            class="right-[8%] h-[80%] z-40 animate-delay-500 animate-fade-left"
            src="/boxers/amouranth.webp"
            alt="Amouranth"
          />
          <img
            class="right-[20%] h-[75%] z-30 animate-delay-700 animate-fade-left"
            src="/boxers/shelao.webp"
            alt="Shelao"
          />
          <img
            class="right-[30%] h-[70%] z-20 animate-delay-[900ms] animate-fade-left"
            src="/boxers/luzu.webp"
            alt="Luzu"
          />
          <img
            class="right-[43%] h-[65%] z-10 animate-delay-[1100ms] animate-fade-left"
            src="/boxers/rivers.webp"
            alt="Rivers"
          />
          <img
            class="right-[48%] h-[60%] z-0 animate-delay-[1300ms] animate-fade-left"
            src="/boxers/ampeter.webp"
            alt="Ampeter"
          />
        </div>

        <div
          id="info"
          class="absolute bottom-48 z-50 mx-auto left-1/2 -translate-x-1/2"
        >
          <div class="flex flex-col">
            <div class="px-5 pt-4 pb-2 bg-white text-black text-center">
              <h2 class="font-boxing text-5xl">1 de JULIO</h2>
            </div>
            <div class="px-5 pt-2 pb-1 bg-black text-white text-center">
              <a
                class="hover:contrast-150 hover:scale-105 transition font-boxing text-[46px]"
                href="http://twitch.tv/ibai"
                target="_blank"
                rel="noopener noreferrer"
                ><span class="text-white">twitch.tv/</span><span
                  class="text-yellow-300">ibai</span
                ></a
              >
            </div>
            <div class="px-5 pt-2 pb-1 bg-sky-500 text-black text-center">
              <a
                class="hover:contrast-150 hover:scale-105 transition font-boxing text-4xl inline-block text-white"
                href="http://twitch.tv/ibai"
                target="_blank"
                rel="noopener noreferrer">Comprar entradas</a
              >
            </div>
          </div>
        </div>

        <div
          id="combat"
          class="absolute bottom-48 z-50 mx-auto left-1/2 -translate-x-1/2 flex flex-col gap-y-24 opacity-0 invisible"
        >
          <div class="px-5 pt-4 pb-2 bg-black text-white text-center">
            <h3 class="font-boxing text-5xl uppercase"></h3>
          </div>
          <span
            class="left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2 font-boxing text-yellow-500 text-8xl block absolute [text-shadow:2px_2px_0_red,4px_4px_0px_orange,6px_6px_0px_black]"
            >VS</span
          >
          <div class="px-5 pt-4 pb-2 bg-white text-black text-center">
            <h3 class="font-boxing triped text-5xl uppercase"></h3>
          </div>
        </div>
      </section>
    </main>

    <footer></footer>
  </body>
</html>

<style is:global>
  body {
    background: #333;
  }

  @font-face {
    font-family: "Boxing";
    src: url("/fonts/boxing.woff2");
    font-weight: bold;
  }

  @font-face {
    font-family: "Boxing Striped";
    src: url("/fonts/font-striped.woff2");
    font-weight: bold;
  }
</style>

<script>
  const $boxers = document.querySelector("#boxers");
  const $boxersImages = $boxers.querySelectorAll("img");

  const $info = document.querySelector("#info");
  const $combat = document.querySelector("#combat");

  $boxersImages.forEach(($img) => {
    $img.addEventListener("mouseleave", (event) => {
      $boxersImages.forEach(($img) => {
        $img.setAttribute("style", "transition: all .3s ease-in-out");
      });

      $info.setAttribute(
        "style",
        "opacity: 1, transition: all .3s ease-in-out"
      );
      $combat.setAttribute(
        "style",
        "opacity: 0, transition: all .3s ease-in-out; visibility: visible"
      );
    });

    $img.addEventListener("mouseenter", () => {
      const sectionImages = $img.parentNode.children;
      const position = Array.from(sectionImages).indexOf($img);

      // get image for the left side and the right side
      const [leftBoxer, rightBoxer] = [
        $boxersImages[position], // left fighter
        $boxersImages[position + $boxersImages.length / 2], // right fighter
      ];

      console.log(leftBoxer, rightBoxer);

      // Hidden de info about the fighters
      $info.setAttribute("style", "opacity:0; transition: all .3s ease-in-out");
      $combat.setAttribute(
        "style",
        "opacity:1; transition: all .3s ease-in-out; visibilty: visible"
      );

      const [firstBoxerName, secondBoxerName] = $combat.querySelectorAll("h3");
      firstBoxerName.innerText = leftBoxer.alt;
      secondBoxerName.innerText = rightBoxer.alt;

      // hidden some of the fighters
      $boxersImages.forEach(($img) => {
        $img.setAttribute(
          "style",
          "filter: blur(2px) grayscale(.8); transition: all .3s ease-in-out"
        );
      });

      leftBoxer.setAttribute(
        "style",
        "scale: 1.1; contrast: 1.1; transition: all .3s ease-in-out"
      );

      rightBoxer.setAttribute(
        "style",
        "scale: 1.1; contrast: 1.1; transition: all .3s ease-in-out"
      );
    });
  });
</script>
